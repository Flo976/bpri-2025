import "../../../plugins/magnificpopup/magnific-popup.css";
import "../../../plugins/magnificpopup/jquery.magnific-popup.min.js";
class AppVideo{static getDatasOfVideoUrl(e){var i,t={type:null,embed_url:null,video_id:null};return e&&"string"==typeof e&&AppVideo.isValidUrl(e)&&(AppVideo.getYoutubeIdVideoFromUrl(e)?(i=AppVideo.getYoutubeIdVideoFromUrl(e),t.type="youtube",t.embed_url="https://www.youtube.com/embed/"+i,t.video_id=i):AppVideo.getVimeoIdVideoFromUrl(e)?(i=AppVideo.getVimeoIdVideoFromUrl(e),t.type="vimeo",t.embed_url="https://player.vimeo.com/video/"+i,t.video_id=i):AppVideo.getDailymotionIdVideoFromUrl(e)&&(i=AppVideo.getDailymotionIdVideoFromUrl(e),t.type="dailymotion",t.embed_url="https://www.dailymotion.com/embed/video/"+i,t.video_id=i)),t}static getYoutubeIdVideoFromUrl(e){var i,t=null;return t=-1!==e.search("youtu")&&(i=[],(i=e?e.match(/^.*(youtu\.be\/|vi?\/|u\/\w\/|embed\/|\?vi?=|\&vi?=)([^#\&\?]*).*/):i)&&i[2])?i[2]:t}static getVimeoIdVideoFromUrl(e){var i,t=null;return t=-1!==e.search("vimeo")&&(i=[],(i=e?e.match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/?(showcase\/)*([0-9))([a-z]*\/)*([0-9]{6,11})[?]?.*/):i)&&i[6])?i[6]:t}static getDailymotionIdVideoFromUrl(e){var i,t=null;return t=-1!==e.search("dai")&&(i=[],(i=e?e.match(/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?/):i)&&i[1])?i[1]:t}static isValidUrl(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}}class AppMagnificPopup{constructor(){this.init()}init(){$(".app_mfp_img").each((e,i)=>{$(i).magnificPopup({type:"image",tLoading:"Chargement media #%curr%...",mainClass:"app_mfp_modal",gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,1],arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',tPrev:"Précédent",tNext:"Suivant",tCounter:'<span class="mfp-counter">%curr% sur %total%</span>'},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("title")}},zoom:{enabled:!0}})}),$(".app_mfp_img_gallery").each((e,i)=>{$(i).magnificPopup({delegate:".app_mfp_img_gallery_item",type:"image",tLoading:"Chargement media #%curr%...",mainClass:"app_mfp_modal",gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,1],arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',tPrev:"Précédent",tNext:"Suivant",tCounter:'<span class="mfp-counter">%curr% sur %total%</span>'},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("title")}},zoom:{enabled:!0}})}),$(".app_mfp_video").each((e,i)=>{$(i).magnificPopup({type:"iframe",tLoading:"Chargement media #%curr%...",mainClass:"app_mfp_modal",zoom:{enabled:!0},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',patterns:{youtube:{index:"youtu",id:function(e){return AppVideo.getYoutubeIdVideoFromUrl(e)},src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo",id:function(e){return AppVideo.getVimeoIdVideoFromUrl(e)},src:"https://player.vimeo.com/video/%id%?autoplay=1"},dailymotion1:{index:"dailymotion",id:function(e){return AppVideo.getDailymotionIdVideoFromUrl(e)},src:"https://www.dailymotion.com/embed/video/%id%?autoplay=1"},dailymotion2:{index:"dai.ly",id:function(e){return AppVideo.getDailymotionIdVideoFromUrl(e)},src:"https://www.dailymotion.com/embed/video/%id%?autoplay=1"}},srcAction:"iframe_src"}})}),$(".app_mfp_video_gallery").each((e,i)=>{$(i).magnificPopup({delegate:".app_mfp_video_gallery_item",type:"iframe",tLoading:"Chargement media #%curr%...",mainClass:"app_mfp_modal",zoom:{enabled:!0},gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,1],arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',tPrev:"Précédent",tNext:"Suivant",tCounter:'<span class="mfp-counter">%curr% sur %total%</span>'},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',patterns:{youtube:{index:"youtu",id:function(e){return AppVideo.getYoutubeIdVideoFromUrl(e)},src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo",id:function(e){return AppVideo.getVimeoIdVideoFromUrl(e)},src:"https://player.vimeo.com/video/%id%?autoplay=1"},dailymotion1:{index:"dailymotion",id:function(e){return AppVideo.getDailymotionIdVideoFromUrl(e)},src:"https://www.dailymotion.com/embed/video/%id%?autoplay=1"},dailymotion2:{index:"dai.ly",id:function(e){return AppVideo.getDailymotionIdVideoFromUrl(e)},src:"https://www.dailymotion.com/embed/video/%id%?autoplay=1"},video:{index:function(e){return e.endsWith(".mp4")||e.endsWith(".webm")},id:function(e){return e},src:"%id%"}},srcAction:"iframe_src"}})})}}

window.addEventListener("load",()=>{
	new AppMagnificPopup
});